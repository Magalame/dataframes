import Dataframes.Learn.LogisticRegression
import Dataframes.Learn.SKLearnWrapper
import Dataframes.Column
import Dataframes.Learn.LinearRegression
import Dataframes.Learn.Coach
import Dataframes.Table
import Dataframes.Main
import Dataframes.IO
import Std.Base
import Std.Foreign.C.Value
import Std.Foreign

import Dataframes.Internal.Utils
import Dataframes.Array
import Dataframes.Types
import Dataframes.Internal.Test.Test

import Dataframes.Plot.Matplotlib

«195»

«357»def isSmoking x:
    «358»a = x.at "smoker" == "yes"
    «359»b = a . switch 1 0 
    b

«371»def func1 readFile1:
    «372»dropNa1 = readFile1 . dropNa
    «373»filter1 = dropNa1 . filter (x: «368»x.at "bmi" < 250)
    «374»filter2 = filter1 . filter (x: «376»x.at "sex" == "female")
    filter2

«344»def main:
    «360»readFile1 = CSVParser.readFile "./data/insurance.csv"
    «361»describeNa1 = readFile1 . describeNa
    «375»filter2 = func1 readFile1
    «377»filterSmokers = filter2 . eachTo "isSmoker" (x: «378»isSmoking x)
    «379»corr1 = filterSmokers . filterColumns .isNumeric
    «385»at2 = corr1 . columns ["bmi", "children"]
    «384»at1 = corr1 . at "charges"
    «380»corr2 = corr1 . corr
    «383»heatmap1 = corr2 . chart.heatmap
    «386»fit1 = LinearRegression.fit at2 at1
    «387»score1 = fit1 . score at2 at1
    None
    
«295»

### META {"metas":[{"marker":360,"meta":{"_displayResult":false,"_selectedVisualizer":["LunaVisualizer: base: table","base/table/table.html"],"_position":{"fromPosition":{"_vector2_y":-352,"_vector2_x":-368}}}},{"marker":361,"meta":{"_displayResult":false,"_selectedVisualizer":["LunaVisualizer: base: table","base/table/table.html"],"_position":{"fromPosition":{"_vector2_y":-352,"_vector2_x":-192}}}},{"marker":375,"meta":{"_displayResult":false,"_selectedVisualizer":["LunaVisualizer: base: table","base/table/table.html"],"_position":{"fromPosition":{"_vector2_y":-176,"_vector2_x":-192}}}},{"marker":377,"meta":{"_displayResult":false,"_selectedVisualizer":["LunaVisualizer: base: table","base/table/table.html"],"_position":{"fromPosition":{"_vector2_y":-176,"_vector2_x":-16}}}},{"marker":378,"meta":{"_displayResult":false,"_selectedVisualizer":null,"_position":{"fromPosition":{"_vector2_y":0,"_vector2_x":0}}}},{"marker":379,"meta":{"_displayResult":true,"_selectedVisualizer":["LunaVisualizer: base: table","base/table/table.html"],"_position":{"fromPosition":{"_vector2_y":-176,"_vector2_x":160}}}},{"marker":385,"meta":{"_displayResult":false,"_selectedVisualizer":["LunaVisualizer: base: table","base/table/table.html"],"_position":{"fromPosition":{"_vector2_y":-64,"_vector2_x":560}}}},{"marker":384,"meta":{"_displayResult":false,"_selectedVisualizer":["LunaVisualizer: base: table","base/table/table.html"],"_position":{"fromPosition":{"_vector2_y":-176,"_vector2_x":576}}}},{"marker":380,"meta":{"_displayResult":false,"_selectedVisualizer":["LunaVisualizer: base: table","base/table/table.html"],"_position":{"fromPosition":{"_vector2_y":-272,"_vector2_x":352}}}},{"marker":383,"meta":{"_displayResult":false,"_selectedVisualizer":["ProjectVisualizer: image: plot","image/image.html"],"_position":{"fromPosition":{"_vector2_y":-272,"_vector2_x":576}}}},{"marker":386,"meta":{"_displayResult":false,"_selectedVisualizer":null,"_position":{"fromPosition":{"_vector2_y":-112,"_vector2_x":752}}}},{"marker":387,"meta":{"_displayResult":true,"_selectedVisualizer":["LunaVisualizer: base: json","base/json/json.html"],"_position":{"fromPosition":{"_vector2_y":-112,"_vector2_x":928}}}},{"marker":372,"meta":{"_displayResult":false,"_selectedVisualizer":null,"_position":{"fromPosition":{"_vector2_y":0,"_vector2_x":0}}}},{"marker":373,"meta":{"_displayResult":false,"_selectedVisualizer":null,"_position":{"fromPosition":{"_vector2_y":0,"_vector2_x":176}}}},{"marker":368,"meta":{"_displayResult":false,"_selectedVisualizer":null,"_position":{"fromPosition":{"_vector2_y":0,"_vector2_x":0}}}},{"marker":374,"meta":{"_displayResult":false,"_selectedVisualizer":null,"_position":{"fromPosition":{"_vector2_y":0,"_vector2_x":352}}}},{"marker":376,"meta":{"_displayResult":false,"_selectedVisualizer":null,"_position":{"fromPosition":{"_vector2_y":0,"_vector2_x":0}}}},{"marker":358,"meta":{"_displayResult":false,"_selectedVisualizer":null,"_position":{"fromPosition":{"_vector2_y":0,"_vector2_x":0}}}},{"marker":359,"meta":{"_displayResult":false,"_selectedVisualizer":null,"_position":{"fromPosition":{"_vector2_y":0,"_vector2_x":176}}}}]}